
Terdapat banyak laman web yang menawarkan perkhidmatan untuk menyemak status sijil SSL, protokol yang disokong, dan cipher suite (contohnya SSL Labs). Namun kadang-kadang anda perlu menguji hos yang hanya boleh dicapai dari rangkaian dalaman (intranet) atau di sebalik server proxy. Dalam situasi begini, alat yang boleh dijalankan terus dari PC/laptop sangat berguna.

Dalam kes saya, laporan awal menyatakan server laman membenarkan sambungan menggunakan TLSv1.0 dan TLSv1.1 — kedua-dua versi ini sudah lapuk dan tidak wajar dibenarkan. Saya yakin konfigurasi Apache di belakang telah dikemas kini, jadi ujian perlu dijalankan terhadap IP pada F5 (atau load balancer) serta setiap web server backend untuk memastikan tiada endpoint lama yang masih membenarkan TLS usang.

## Contoh arahan (nmap)

Gunakan nmap dengan skrip ssl-enum-ciphers untuk mengumpulkan maklumat protokol dan cipher:

`nmap --script ssl-enum-ciphers -p 443 192.168.15.10`


Perintah di atas akan memaparkan versi TLS yang disokong dan cipher suite yang tersedia pada hos `192.168.15.10` port `443`.

## Tafsiran ringkas hasil

* Jika 'TLSv1.0' atau 'TLSv1.1' muncul dalam hasil, itu bermakna sambungan menggunakan protokol usang masih dibenarkan pada hos yang diuji.
* Periksa juga cipher suite: elakkan cipher dengan `RC4`, cipher tanpa forward secrecy, atau cipher berasaskan `SHA1`.
* Ingat: jika trafik TLS ditamatkan pada load balancer (contoh: F5/Haproxy/nginx), konfigurasi pada load balancer menentukan protokol/cipher yang dilihat oleh klien — walaupun Apache di backend telah dikonfigurasi dengan betul.

## Langkah susulan & cadangan

1. Uji di setiap lapisan
* Uji IP/hostname load balancer (F5/HAProxy/Nginx).
* Uji setiap web server backend (Apache) terus — kadang-kadang backend masih menyokong protokol lama jika trafik tidak ditapis.

2.  Gunakan alat tambahan
* `openssl s_client -connect <host>:443 -tls1` untuk cuba paksa TLS1.0 (uji manual).
* `sslyze` atau `testssl.sh` untuk audit lebih terperinci.
* Untuk host awam, gunakan Qualys SSL Labs untuk laporan komprehensif.

3. Konfigurasi yang disarankan
* Matikan TLSv1.0 dan TLSv1.1; benarkan TLSv1.2+ dan TLSv1.3 sahaja, kecuali anda mempunyai keperluan kompatibiliti yang sangat khusus.
* Pilih cipher suite moden dengan forward secrecy (ECDHE) dan elakkan RC4 / DES / 3DES / AES-CBC tanpa mitigasi.
* Pastikan certificate chain lengkap dan gunakan kekunci RSA 2048+ atau ECDSA setara.
* Periksa seting load balancer

Jika load balancer melakukan TLS termination, ubah tetapan di situ (F5 iRules / SSL profile, HAProxy `ssl-default-bind-ciphers`/`ssl-default-bind-options`, nginx `ssl_protocols` / `ssl_ciphers`), bukan hanya di Apache.

## Rujukan cepat
* Nmap: https://nmap.org
* Qualys SSL Labs (online): https://www.ssllabs.com/ssltest/
* OpenSSL (manual): openssl s_client.
* Alat audit lain: sslyze, testssl.sh.